{"version":3,"file":"static/js/884.69a94bef.chunk.js","mappings":"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","sources":["hooks/useFetch.jsx","pages/MovieDetails.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nexport const useFetch = () => {\n  const [isFetching, setIsFetching] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n\n  const fetchData = useCallback(async (requestFunction) => {\n    setIsFetching(true);\n    try {\n      const data = await requestFunction;\n      // const response = await fetch(url, body);\n      // const data = await response.json();\n\n      setData(data);\n    } catch (e) {\n      setError(e);\n    } finally {\n      setIsFetching(false);\n    }\n  }, []);\n\n  return { isFetching, data, error, fetchData };\n};\n","import { Suspense, lazy, useEffect } from 'react';\nimport { useParams,useLocation,useNavigate,Link,Routes,Route } from 'react-router-dom';\nimport { MoviesAPI } from 'services/api';\nimport { useFetch } from 'hooks/useFetch';\nimport { Loader } from 'components';\n\n\nconst LazyCast = lazy(() => import('./Cast'));\nconst LazyReviews = lazy(() => import('./Reviews'));\n\nconst MovieDetails = () => {\n  const { isFetching, data, error, fetchData } = useFetch();\n  const movieDetails = data;\n\n  const location = useLocation();\n  console.log('location From MovieDetal: ', location);\n\n  const navigate = useNavigate();\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    fetchData(MoviesAPI.fetchMovieById(movieId));\n  }, [fetchData, movieId]);\n\n  const handleMoveBack = () => {\n    if (location.state) {\n      navigate(location.state.from);\n      return;\n    }\n\n    navigate('/');\n  };\n\n  return (\n    <div>\n      <button onClick={() => handleMoveBack()}>Go back</button>\n      {error && <p>{error.message}</p>}\n      {isFetching && (\n        <div>\n          <Loader />\n        </div>\n      )}\n      {!!movieDetails && (\n        <div>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`}\n            alt={movieDetails.original_title}\n          />\n          <div className=\"movie-info\">\n            <h1>{movieDetails.original_title}</h1>\n            <p>Vote Average: {movieDetails.vote_average}</p>\n            <h2>Overview</h2>\n            <p> {movieDetails.overview}</p>\n            <h3>Genres:</h3>\n            {movieDetails?.genres?.length > 0\n              ? movieDetails.genres.map(({ id, name }) => {\n                  return (\n                    <span className=\"genre\" key={id}>\n                      {name}\n                    </span>\n                  );\n                })\n              : 'There are no genres available'}\n          </div>\n        </div>\n      )}\n      <div>\n        <div className=\"additional-handlers\">\n          <Link\n            className=\"link\"\n            to=\"cast\"\n            state={{ from: location.state?.from }}\n          >\n            Cast\n          </Link>\n          <Link\n            className=\"link\"\n            to=\"reviews\"\n            state={{ from: location.state?.from }}\n          >\n            Reviews\n          </Link>\n        </div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<LazyCast />} />\n            <Route path=\"reviews\" element={<LazyReviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '95b1302bfbaa67a4b0727b46a7f8151e';\n\nexport const MoviesAPI = {\n  async fetchMovies ()  {\n    const response = await fetch(\n      `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\n    );\n    return await response.json();\n  },\n  async fetchMovieById (movieId)  {\n    const response = await fetch(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return await response.json();\n  },\n  async fetchMovieBySearch (searchTerm)  {\n    const response = await fetch(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}&page=1&include_adult=false`\n    );\n    return await response.json();\n  },\n  async fetchMovieCast (movieId)  {\n    const response = await fetch(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return await response.json();\n  },\n  async fetchMovieReviews (movieId)  {\n    const response = await fetch(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return await response.json();\n  },\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useFetch","useState","isFetching","setIsFetching","data","setData","error","setError","fetchData","useCallback","requestFunction","LazyCast","lazy","LazyReviews","movieDetails","location","useLocation","console","log","navigate","useNavigate","movieId","useParams","useEffect","MoviesAPI","onClick","state","from","message","src","poster_path","alt","original_title","className","vote_average","overview","genres","length","map","id","name","to","Suspense","fallback","path","element","BASE_URL","API_KEY","fetchMovies","fetch","response","json","fetchMovieById","fetchMovieBySearch","searchTerm","fetchMovieCast","fetchMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}