{"version":3,"file":"static/js/99.6d32a74c.chunk.js","mappings":"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","sources":["hooks/useFetch.jsx","webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","goback.svg","pages/MovieDetails.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nexport const useFetch = () => {\n  const [isFetching, setIsFetching] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n\n  const fetchData = useCallback(async (requestFunction) => {\n    setIsFetching(true);\n    try {\n      const data = await requestFunction;\n\n      setData(data);\n    } catch (e) {\n      setError(e);\n    } finally {\n      setIsFetching(false);\n    }\n  }, []);\n\n  return { isFetching, data, error, fetchData };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"MovieDetails_page__+WhzO\",\"button_goback\":\"MovieDetails_button_goback__DZtzX\",\"img\":\"MovieDetails_img__WWAoB\",\"vote\":\"MovieDetails_vote__6YdBu\",\"genre\":\"MovieDetails_genre__hpnsh\",\"overview_h2\":\"MovieDetails_overview_h2__Naj3V\",\"overview_p\":\"MovieDetails_overview_p__Wva6J\",\"overview_h3\":\"MovieDetails_overview_h3__-sSG4\",\"link\":\"MovieDetails_link__wv3O1\",\"additional_handlers\":\"MovieDetails_additional_handlers__ZNY+k\"};","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGoback(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"800px\",\n    width: \"800px\",\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 38.273 38.273\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M20.621,10.484V5.84c0-0.808-0.458-1.548-1.181-1.909c-0.722-0.359-1.589-0.279-2.236,0.206 l-9.486,7.147c-0.677,0.292-1.117,0.67-1.401,1.058l-5.468,4.119C0.312,16.866-0.003,17.501,0,18.173 c0.002,0.673,0.322,1.305,0.862,1.706l16.355,12.133c0.646,0.48,1.51,0.554,2.23,0.191c0.72-0.362,1.174-1.1,1.174-1.905v-5.517 c0.013,0,0.025,0,0.038,0c3.842,0,10.687,1.089,13.366,8.386c0.311,0.846,1.116,1.397,2.001,1.397c0.079,0,0.157-0.004,0.236-0.013 c0.975-0.108,1.751-0.868,1.88-1.84c0.052-0.394,1.208-9.682-4.461-16.23C30.621,12.948,26.235,10.935,20.621,10.484z  M20.659,20.515c-1.443,0-2.379,0.132-2.482,0.146c-1.046,0.154-1.822,1.053-1.822,2.111v3.287l-10.66-7.907l3.555-2.678 c0.136-0.104,0.259-0.222,0.365-0.351c0.155-0.068,0.301-0.152,0.437-0.254l6.303-4.75v2.401c0,1.168,0.939,2.119,2.108,2.134 c5.345,0.063,9.374,1.61,11.975,4.6c1.442,1.658,2.314,3.602,2.835,5.469C28.923,21.038,23.424,20.515,20.659,20.515z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGoback);\nexport default __webpack_public_path__ + \"static/media/goback.94cf5566342c71828c47b18e257b36d7.svg\";\nexport { ForwardRef as ReactComponent };","import { Suspense, lazy, useEffect } from 'react';\nimport { useParams,useLocation,useNavigate,Link,Routes,Route } from 'react-router-dom';\nimport { MoviesAPI } from 'services/api';\nimport { useFetch } from 'hooks/useFetch';\nimport { Loader } from 'components';\nimport css from './MovieDetails.module.css';\nimport goback from '../goback.svg';\n\n\nconst LazyCast = lazy(() => import('./Cast'));\nconst LazyReviews = lazy(() => import('./Reviews'));\n\nconst MovieDetails = () => {\n  const { isFetching, data, error, fetchData } = useFetch();\n  const movieDetails = data;\n\n  const location = useLocation();\n\n  const navigate = useNavigate();\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    fetchData(MoviesAPI.fetchMovieById(movieId));\n  }, [fetchData, movieId]);\n\n  const handleMoveBack = () => {\n    if (location.state) {\n      navigate(location.state.from);\n      return;\n    }\n\n    navigate('/');\n  };\n\n  return (\n    <div className={css.wrapper}>\n      <button onClick={() => handleMoveBack()} className={css.button_goback}> <img src={goback} alt=\"go back icon\" /> </button>\n      {error && <p>{error.message}</p>}\n      {isFetching && (\n        <div>\n          <Loader />\n        </div>\n      )}\n      {!!movieDetails && (\n        <div className={css.page}>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`}\n            alt={movieDetails.original_title}\n            className={css.img}\n          />\n          <div className={css.movie_info}>\n            <h1>{movieDetails.title}</h1>\n            <p>Vote Average: <span className={css.vote}>{movieDetails.vote_average}</span></p>\n            <h2 className={css.overview_h2}>Overview</h2>\n            <p className={css.overview_p}> {movieDetails.overview}</p>\n            <h3 className={css.overview_h3}>Genres</h3>\n            {movieDetails?.genres?.length > 0\n              ? movieDetails.genres.map(({ id, name }) => {\n                  return (\n                    <span className={css.genre} key={id}>\n                      {name}\n                    </span>\n                  );\n                })\n              : 'There are no genres available'}\n          </div>\n        </div>\n      )}\n      <div>\n        <div className={css.additional_handlers}>\n          <Link\n            className={css.link}\n            to=\"cast\"\n            state={{ from: location.state?.from }}\n          >\n            <span className={css.link_item}>Cast</span>\n          </Link>\n          <Link\n            className={css.link}\n            to=\"reviews\"\n            state={{ from: location.state?.from }}\n          >\n            <span className={css.link_item}>Reviews</span>\n          </Link>\n        </div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<LazyCast />} />\n            <Route path=\"reviews\" element={<LazyReviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '95b1302bfbaa67a4b0727b46a7f8151e';\n\nexport const MoviesAPI = {\n  async fetchMovies ()  {\n    const response = await fetch(\n      `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\n    );\n    if(response.ok){\n      return await response.json();\n    }else{\n      throw Error;\n    }\n  },\n  async fetchMovieById (movieId)  {\n    const response = await fetch(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    if(response.ok){\n      return await response.json();\n    }else{\n      throw Error;\n    }\n  },\n  async fetchMovieBySearch (searchTerm)  {\n    const response = await fetch(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}&page=1&include_adult=false`\n    );\n    if(response.ok){\n      return await response.json();\n    }else{\n      throw Error;\n    }\n  },\n  async fetchMovieCast (movieId)  {\n    const response = await fetch(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    if(response.ok){\n      return await response.json();\n    }else{\n      throw Error;\n    }\n  },\n  async fetchMovieReviews (movieId)  {\n    const response = await fetch(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    if(response.ok){\n      return await response.json();\n    }else{\n      throw Error;\n    }\n  },\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useFetch","useState","isFetching","setIsFetching","data","setData","error","setError","fetchData","useCallback","requestFunction","LazyCast","lazy","LazyReviews","movieDetails","location","useLocation","navigate","useNavigate","movieId","useParams","useEffect","MoviesAPI","className","css","onClick","state","from","src","goback","alt","message","poster_path","original_title","title","vote_average","overview","genres","length","map","id","name","to","Suspense","fallback","path","element","BASE_URL","API_KEY","fetchMovies","fetch","response","ok","json","Error","fetchMovieById","fetchMovieBySearch","searchTerm","fetchMovieCast","fetchMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}